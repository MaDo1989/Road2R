<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="description" content="KSMoving">
    <meta name="author" content="Coderthemes">

    <link rel="shortcut icon" href="assets/images/favicon_1.ico">

    <title>הסעת חולה</title>

    <link href="../plugins/switchery/swiFtchery.min.css" rel="stylesheet" />
    <link href="assets/css/bootstrap-rtl.min.css" rel="stylesheet" type="text/css">
    <link href="assets/css/core.css" rel="stylesheet" type="text/css">
    <link href="assets/css/icons.css" rel="stylesheet" type="text/css">
    <link href="assets/css/components.css" rel="stylesheet" type="text/css">
    <link href="assets/css/pages.css" rel="stylesheet" type="text/css">
    <link href="assets/css/menu.css" rel="stylesheet" type="text/css">
    <link href="assets/css/responsive.css" rel="stylesheet" type="text/css">

    <script src="assets/js/CookiesFunctions.js"></script>

    <script src="assets/js/modernizr.min.js"></script>

    <script src="assets/js/jquery.min.js"></script>

    <!-- The jQuery library is a prerequisite for all jqSuite products -->
    <script type="text/ecmascript" src="assets/js/jquery.min.js"></script>
    <!-- This is the Javascript file of jqGrid -->
    <script type="text/ecmascript" src="Guriddo_jqGrid_JS_5.2.0/js/jquery.jqGrid.min.js"></script>
    <!-- We support more than 40 localizations -->
    <script type="text/ecmascript" src="Guriddo_jqGrid_JS_5.2.0/js/i18n/grid.locale-he.js"></script>
    <!-- A link to a Boostrap  and jqGrid Bootstrap CSS siles-->
    <link href="Guriddo_jqGrid_JS_5.2.0/css/ui.jqgrid-bootstrap.css" rel="stylesheet" />

    <!-- Sweet Alert css -->
    <link href="../plugins/bootstrap-sweetalert/sweet-alert.css" rel="stylesheet" type="text/css" />

    <!--GENERAL object and additional functions-->
    <script src="lib/master.js"></script>

    <!-- Select2 css+js -->
    <link href="assets/css/select2.css" rel="stylesheet" />
    <script src="assets/js/select2.min.js"></script>

    <!--DatePicker css+js-->
    <link href="../plugins/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css" rel="stylesheet">
    <link href="../plugins/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
    <script src="../plugins/moment/moment.js"></script>
    <script src="../plugins/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
    <script src="../plugins/bootstrap-daterangepicker/daterangepicker.js"></script>

    <!--timePicker css+js-->

    <link href="../plugins/timepicker/bootstrap-timepicker.min.css" rel="stylesheet" />
    <script src="../plugins/timepicker/bootstrap-timepicker.min.js"></script>

    <!--Patient Autocomplete-->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="/resources/demos/style.css">
    <style>
        .ui-autocomplete {
            max-height: 100px;
            overflow-y: auto;
            /* prevent horizontal scrollbar */
            overflow-x: hidden;
        }
        /* IE 6 doesn't support max-height
        * we use height instead, but this forces the menu to always be this tall
        */
        * html .ui-autocomplete {
            height: 100px;
        }
    </style>
    <!--<script src="https://code.jquery.com/jquery-1.12.4.js"></script>-->
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script>
        var resizefunc = [];
    </script>

    <!--Validators-->
    <script src="../plugins/jquery-validation/dist/jquery.validate.min.js"></script>


    <!-- jQuery  -->
    <script src="assets/js/bootstrap-rtl.min.js"></script>
    <script src="assets/js/detect.js"></script>
    <script src="assets/js/fastclick.js"></script>
    <script src="assets/js/jquery.slimscroll.js"></script>
    <script src="assets/js/jquery.blockUI.js"></script>
    <script src="assets/js/waves.js"></script>
    <script src="assets/js/wow.min.js"></script>
    <script src="assets/js/jquery.nicescroll.js"></script>
    <script src="assets/js/jquery.scrollTo.min.js"></script>
    <script src="../plugins/switchery/switchery.min.js"></script>

    <!-- Sweet Alert js -->
    <script src="../plugins/bootstrap-sweetalert/sweet-alert.min.js"></script>
    <script src="assets/pages/jquery.sweet-alert.init.js"></script>

    <script src="assets/js/jquery.core.js"></script>
    <script src="assets/js/jquery.app.js"></script>
    <script src="lib/datepicker-he.js"></script>
    <script>

        $(document).ready(function () {
            var doc = document.getElementById("placeholder");

            counter = 0;
            myfunction();
            setInterval("showCounter()", 1000);
            function showCounter()
            {
            doc.innerHTML = counter;
            }
            function myfunction() {
                    
                if (counter == 1000) return;
                    //var RidePatNum = $("#ridePatNum").val();
                    var Pat = new Object();
                    Pat.DisplayName = "יסמין עלי";
                    Pat.Id = 4;
                    var Origin = new Object();
                    Origin.Name = "אייל";
                    var Destination = new Object();
                    Destination.Name = "איכילוב";
                    var Remark = "";
                    var dateRide = new Date();
                    var hours = 10;
                    var minutes = 0;
                    //dateRide + " " + hours + ":" + minutes;
                    var Day = 19;
                    var Month = 7;
                    var Year = 2018;
                    var Hour = parseInt(hours);
                    var Minute = parseInt(minutes);

                    var date = new Date(Year, Month, Day, Hour, Minute);
                    var func = "new";
                    var Coordinator = new Object();
                    Coordinator.DisplayName = "מתן דורון";
                    var OnlyEscort = false;
                    var Escorts = [];

                    RidePat = {
                        Pat: Pat, Origin: Origin, Destination: Destination, Coordinator: Coordinator, Remark: Remark, Escorts: Escorts, Date: date, OnlyEscort: OnlyEscort
                    }
                    var request = { RidePat: RidePat, func: func }
                    var dataString = JSON.stringify(request);
                    $.ajax({
                        dataType: "json",
                        url: "WebService.asmx/setRidePat",
                        contentType: "application/json; charset=utf-8",
                        type: "POST",
                        async: false,
                        data: dataString,
                        success: function (data) {
                            counter++;
                            myfunction();
                        },

                        error: function (err) {
                            alert("Error in setRidePat: " + err.responseText);
                        }
                    });
                }
            
        });
    </script>

</head>
<body>
<div id="placeholder"></div>

</body>
</html>